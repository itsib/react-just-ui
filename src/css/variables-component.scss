@use "sass:map";
@use 'sass:color';
@use "./mixins/utils" as utils;

$schemes: (light: (), dark: ()) !default;

@layer #{utils.$prefix}-variables {
  @each $name, $scheme in $schemes {
    $class-name: "";
    @if ($name == "dark") {
      $class-name: ".dark"
    }

    :root#{$class-name} {
      @each $var-name, $value in $scheme {
        @include utils.register($var-name, $value, "color");
      }

      // Forms
      @include utils.register(--form-label, color.invert(map.get($scheme, 'foreground'), 10%), "color");
      @include utils.register(--form-text, map.get($scheme, 'foreground'), "color");
      @include utils.register(--form-placeholder, color.invert(map.get($scheme, 'foreground'), 50%), "color");
      @include utils.register(--form-border, map.get($scheme, 'border'), "color");
      @include utils.register(--form-bg, map.get($scheme, 'background'), "color");
      @include utils.register(--form-focus-border, map.get($scheme, 'active'), "color");
      @include utils.register(--form-focus-bg, map.get($scheme, 'background'), "color");
      @include utils.register(--form-disabled-border, map.get($scheme, 'muted'), "color");
      @include utils.register(--form-disabled-bg, map.get($scheme, 'muted'), "color");

      @include utils.register(--list-text, map.get($scheme, 'foreground'), "color");
      @include utils.register(--list-bg, map.get($scheme, 'background'), "color");
      @include utils.register(--list-hover-text, map.get($scheme, 'foreground'), "color");
      @include utils.register(--list-hover-bg, color.invert(map.get($scheme, 'background'), 9%), "color");
      @include utils.register(--list-active-text, map.get($scheme, 'foreground'), "color");
      @include utils.register(--list-active-bg, map.get($scheme, 'background'), "color");

      // Modal
      @include utils.register(--modal-bg, map.get($scheme, 'modal'), "color");
    }
  }

  :root {
    // Z index
    @include utils.register(--modal, 1000, "z-index");
    @include utils.register(--toast, 1050, "z-index");
    @include utils.register(--dropdown, 1060, "z-index");
    @include utils.register(--popover, 1070, "z-index");
    @include utils.register(--tooltip, 1080, "z-index");

    // Forms

  }
}