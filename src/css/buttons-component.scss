@use "./mixins/variable";
@use "./mixins/button";
@use "sass:map";

$height: 40px !default;
$padding: 0.5em 1em !default;
$font: ("size": 1rem, "weight": 400, "height": 1.5) !default;
$border: ("width": 1px, "radius": .375em) !default;
$ring-width: 1px !default;
$ring-offset: 2px !default;

.btn {
  height: $height;
  padding: $padding;
  font-size: map.get($font, "size");
  font-weight: map.get($font, "weight");
  line-height: map.get($font, "height");
  color: variable.getColor(--foreground);
  text-align: center;
  text-decoration: none;
  vertical-align: middle;
  user-select: none;
  cursor: pointer;
  display: inline-block;
  background-color: transparent;
  border: map.get($border, "width") solid transparent;
  border-radius: map.get($border, "radius");
  transition:
      color .15s ease-in-out,
      background-color .15s ease-in-out,
      border-color .15s ease-in-out,
      box-shadow .15s ease-in-out;

  &:active {
    transition-duration: 0s;
  }

  &:disabled, &.disabled, &.loading {
    box-shadow: none;
    pointer-events: none;
    cursor: default;
  }

  &.loading {
    color: transparent;
    background-size: 26px 26px;
    animation: #{variable.$prefix}-button-loader 1s linear infinite;

    * {
      display: none;
    }
  }

  &.w-full {
    width: 100%;
    max-width: 100%;
  }
}

@include button.layout("primary", ());

@include button.layout("secondary", ());

@include button.layout("danger", ());

// Loading animation
@keyframes #{variable.$prefix}-button-loader {
  0% {
    background-position: 26px 0;
  }
  100% {
    background-position: 0 0;
  }
}