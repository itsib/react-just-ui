@use "./css/mixins/loaders";

.__prefix__.__prefix__-input {

  .control {
    display: flex;
    justify-content: space-between;
    align-self: stretch;

    > input {
      padding: var(--__prefix__v-form-padding-y) var(--__prefix__v-form-padding-x);

      &[type="password"] {
        font: small-caption;
        font-size: 16px;
      }
    }

    .prefix, .suffix {
      padding: 0 var(--__prefix__v-form-padding-x);
      color: rgb(var(--__prefix__c-form-text));
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: default;
      user-select: none;
      box-shadow: none;
      white-space: nowrap;
      transition: inherit;
      font-size: inherit;
    }

    > .prefix {
      border-radius: calc(var(--__prefix__v-form-border-radius) - 1px) 0 0 calc(var(--__prefix__v-form-border-radius) - 1px);
      border-right: var(--__prefix__v-form-border-width) solid rgb(var(--__prefix__c-form-border));
    }

    > .suffix {
      border-radius: 0 calc(var(--__prefix__v-form-border-radius) - 1px) calc(var(--__prefix__v-form-border-radius) - 1px) 0;
      border-left: var(--__prefix__v-form-border-width) solid rgb(var(--__prefix__c-form-border));
    }
  }

  &:focus-within {

    .control {

      .suffix, .prefix {
        background-color: rgb(var(--__prefix__c-form-focus-bg));
        border-color: rgb(var(--__prefix__c-form-focus-border));
      }
    }
  }

  &.error {

    > .control {

      .suffix, .prefix {
        border-color: rgb(var(--__prefix__c-error));
        box-shadow: none;
      }
    }
  }

  &.disabled {

    .control {

      .suffix, .prefix {
        color: rgb(var(--__prefix__c-form-text) / .6);
        border-color: rgb(var(--__prefix__c-form-disabled-border));
        background-color: rgb(var(--__prefix__c-form-disabled-bg));
      }
    }

    .__prefix__-subscript {

      > .error {
        display: none;
      }
    }
  }

  &.loading:not(.disabled) {

    .control {
      border-color: rgb(var(--__prefix__c-form-disabled-border));
      background-color: rgb(var(--__prefix__c-form-disabled-bg));

      > input {
        display: none;
      }

      .suffix, .prefix {
        display: none;
      }
    }

    .__prefix__-subscript {

      > .error {
        display: none;
      }
    }

    @include loaders.bubbles(".overlay", 7px);
  }
}